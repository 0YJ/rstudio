var kDefaultURL="compressed.tracemonkey-pldi-09.pdf",kDefaultScale="auto",kDefaultScaleDelta=1.1,kUnknownScale=0,kCacheSize=20,kCssUnits=96/72,kScrollbarPadding=40,kMinScale=0.25,kMaxScale=4,kImageDirectory="./images/",kSettingsMemory=20;function getFileName(a){var b=a.indexOf("#"),c=a.indexOf("?"),b=Math.min(0<b?b:a.length,0<c?c:a.length);return a.substring(a.lastIndexOf("/",b)+1,b)}
var Cache=function(a){var b=[];this.push=function(c){var d=b.indexOf(c);0<=d&&b.splice(d);b.push(c);b.length>a&&b.shift().destroy()}},ProgressBar=function(){function a(a,c){this.div=document.querySelector(a+" .progress");this.height=c.height||100;this.width=c.width||100;this.units=c.units||"%";this.percent=c.percent||0;this.div.style.height=this.height+this.units}a.prototype={updateBar:function(){this.div.style.width=this.width*this._percent/100+this.units},get percent(){return this._percent},set percent(a){this._percent=
Math.min(Math.max(a,0),100);this.updateBar()}};return a}(),RenderingQueue=function(){function a(){this.items=[]}a.prototype={enqueueDraw:function(a){a.drawingRequired()&&(this.items.push(a),1<this.items.length||a.draw(this.continueExecution.bind(this)))},continueExecution:function(){var a=this.items.shift();0!=this.items.length&&(a=this.items[0],a.draw(this.continueExecution.bind(this)))}};return a}(),FirefoxCom=function(){return{request:function(a,b){var c=document.createTextNode("");c.setUserData("action",
a,null);c.setUserData("data",b,null);document.documentElement.appendChild(c);var d=document.createEvent("Events");d.initEvent("pdf.js.message",!0,!1);c.dispatchEvent(d);d=c.getUserData("response");document.documentElement.removeChild(c);return d}}}(),Settings=function(){function a(a){var c=null,f;if(d)c=FirefoxCom.request("getDatabase",null)||"{}";else if(b)c=localStorage.getItem("database")||"{}";else return!1;c=JSON.parse(c);"files"in c||(c.files=[]);c.files.length>=kSettingsMemory&&c.files.shift();
for(var h=0,i=c.files.length;h<i;h++)if(c.files[h].fingerprint==a){f=h;break}"number"!=typeof f&&(f=c.files.push({fingerprint:a})-1);this.file=c.files[f];this.database=c}var b;try{b="localStorage"in window&&null!==window.localStorage&&localStorage}catch(c){b=!1}var d=PDFJS.isFirefoxExtension;a.prototype={set:function(a,c){if(!("file"in this))return!1;this.file[a]=c;var f=JSON.stringify(this.database);d?FirefoxCom.request("setDatabase",f):b&&localStorage.setItem("database",f)},get:function(a,b){return!("file"in
this)?b:this.file[a]||b}};return a}(),cache=new Cache(kCacheSize),renderingQueue=new RenderingQueue,currentPageNumber=1,kSidebarWidth=200,PDFView={pages:[],thumbnails:[],currentScale:kUnknownScale,currentScaleValue:null,initialBookmark:document.location.hash.substring(1),sidebarWidth:kSidebarWidth,toggleSidebar:function(){document.body.className.match(/\bnosidebar\b/)?(document.body.className=document.body.className.replace(/ ?nosidebar\b/,""),this.sidebarWidth=kSidebarWidth,this.parseScale(this.currentScaleValue)):
document.body.className+=" nosidebar"},setScale:function(a,b){if(a!=this.currentScale){for(var c=this.pages,d=0;d<c.length;d++)c[d].update(a*kCssUnits);this.currentScale!=a&&this.pages[this.page-1].scrollIntoView();this.currentScale=a;c=document.createEvent("UIEvents");c.initUIEvent("scalechange",!1,!1,window,0);c.scale=a;c.resetAutoSettings=b;window.dispatchEvent(c)}},parseScale:function(a,b){if("custom"!=a){var c=parseFloat(a);this.currentScaleValue=a;if(c)this.setScale(c,!0);else{var d=this.pages[this.page-
1];d&&(c=(window.innerWidth-this.sidebarWidth-kScrollbarPadding)/d.width*d.scale/kCssUnits,d=(window.innerHeight-kScrollbarPadding)/d.height*d.scale/kCssUnits,"page-width"==a&&this.setScale(c,b),"page-height"==a&&this.setScale(d,b),"page-fit"==a&&this.setScale(Math.min(c,d),b),"auto"==a&&this.setScale(Math.min(1,c),b),selectScaleOption(a))}}},zoomIn:function(){this.parseScale(Math.min(kMaxScale,this.currentScale*kDefaultScaleDelta),!0)},zoomOut:function(){this.parseScale(Math.max(kMinScale,this.currentScale/
kDefaultScaleDelta),!0)},set page(a){var b=this.pages;document.getElementById("pageNumber");if(0<a&&a<=b.length)b[a-1].updateStats(),currentPageNumber=a,c=document.createEvent("UIEvents"),c.initUIEvent("pagechange",!1,!1,window,0),c.pageNumber=a,window.dispatchEvent(c),updateViewarea.inProgress||this.loading&&1==a||b[a-1].scrollIntoView();else{var c=document.createEvent("UIEvents");c.initUIEvent("pagechange",!1,!1,window,0);c.pageNumber=this.page;window.dispatchEvent(c)}},get page(){return currentPageNumber},
open:function(a,b){this.url=a;PDFView.loadingBar||(PDFView.loadingBar=new ProgressBar("#loadingBar",{}));var c=this;c.loading=!0;PDFJS.getDocument(a).then(function(a){c.load(a,b);c.loading=!1},function(a){document.getElementById("loading").textContent="Error";c.error("An error occurred while loading the PDF.",{message:a});c.loading=!1},function(a){c.progress(a.loaded/a.total)})},download:function(){var a=this.url.split("#")[0];PDFJS.isFirefoxExtension?FirefoxCom.request("download",a):(a+="#pdfjs.action=download",
"_parent",window.open(a,"_parent"))},navigateTo:function(a){"string"===typeof a&&(a=this.destinations[a]);if(a instanceof Array){var b=a[0],b=b instanceof Object?this.pagesRefMap[b.num+" "+b.gen+" R"]:b+1;b>this.pages.length&&(b=this.pages.length);b&&(this.page=b,this.pages[b-1].scrollIntoView(a))}},getDestinationHash:function(a){if("string"===typeof a)return PDFView.getAnchorUrl("#"+escape(a));if(a instanceof Array){var b=a[0];if(b=b instanceof Object?this.pagesRefMap[b.num+" "+b.gen+" R"]:b+1){var b=
PDFView.getAnchorUrl("#page="+b),c=a[1];if("object"===typeof c&&"name"in c&&"XYZ"==c.name&&(b+="&zoom="+100*(a[4]||this.currentScale),a[2]||a[3]))b+=","+(a[2]||0)+","+(a[3]||0);return b}}return""},getAnchorUrl:function(a){return PDFJS.isFirefoxExtension?this.url.split("#")[0]+a:a},error:function(a,b){var c=document.getElementById("errorWrapper");c.removeAttribute("hidden");document.getElementById("errorMessage").textContent=a;document.getElementById("errorClose").onclick=function(){c.setAttribute("hidden",
"true")};var d=document.getElementById("errorMoreInfo"),e=document.getElementById("errorShowMore"),g=document.getElementById("errorShowLess");e.onclick=function(){d.removeAttribute("hidden");e.setAttribute("hidden","true");g.removeAttribute("hidden")};g.onclick=function(){d.setAttribute("hidden","true");e.removeAttribute("hidden");g.setAttribute("hidden","true")};e.removeAttribute("hidden");g.setAttribute("hidden","true");d.value="PDF.JS Build: "+PDFJS.build+"\n";b&&(d.value+="Message: "+b.message,
b.stack?d.value+="\nStack: "+b.stack:(b.filename&&(d.value+="\nFile: "+b.filename),b.lineNumber&&(d.value+="\nLine: "+b.lineNumber)));d.rows=d.value.split("\n").length-1},progress:function(a){a=Math.round(100*a);document.getElementById("loading").textContent="Loading... "+a+"%";PDFView.loadingBar.percent=a},load:function(a,b){function c(a,b){a.onAfterDraw=function(){b.setImage(a.canvas);preDraw()}}document.getElementById("errorWrapper").setAttribute("hidden","true");document.getElementById("loadingBox").setAttribute("hidden",
"true");var d=document.getElementById("sidebarView");for(d.parentNode.scrollTop=0;d.hasChildNodes();)d.removeChild(d.lastChild);"_loadingInterval"in d&&clearInterval(d._loadingInterval);for(var e=document.getElementById("viewer");e.hasChildNodes();)e.removeChild(e.lastChild);var g=a.numPages,f=a.fingerprint,h=null;document.getElementById("numPages").textContent=g;document.getElementById("pageNumber").max=g;PDFView.documentFingerprint=f;var i=PDFView.store=new Settings(f);if(i.get("exists",!1))var f=
i.get("page","1"),j=i.get("zoom",PDFView.currentScale),l=i.get("scrollLeft","0"),i=i.get("scrollTop","0"),h="page="+f+"&zoom="+j+","+l+","+i;for(var k=this.pages=[],m={},t=this.thumbnails=[],f=[],j=1;j<=g;j++)f.push(a.getPage(j));var n=this,f=PDFJS.Promise.all(f);f.then(function(a){for(var f=1;f<=g;f++){var h=a[f-1],i=new PageView(e,h,f,b,h.stats,n.navigateTo.bind(n)),j=new ThumbnailView(d,h,f);c(i,j);k.push(i);t.push(j);h=h.ref;m[h.num+" "+h.gen+" R"]=f}n.pagesRefMap=m});j=a.getDestinations();j.then(function(a){n.destinations=
a});PDFJS.Promise.all([f,j]).then(function(){a.getOutline().then(function(a){a&&(n.outline=new DocumentOutlineView(a),document.getElementById("outlineSwitch").removeAttribute("disabled"),n.switchSidebarView("outline"))});n.setInitialView(h,b)});a.getMetadata().then(function(a){var b=a.metadata;n.documentInfo=a.info;n.metadata=b})},setInitialView:function(a,b){this.currentScale=0;this.currentScaleValue=null;this.initialBookmark?(this.setHash(this.initialBookmark),this.initialBookmark=null):a?this.setHash(a):
b&&(this.parseScale(b,!0),this.page=1);this.page>this.pages.length&&(this.page=this.pages.length);PDFView.currentScale===kUnknownScale&&this.parseScale(kDefaultScale,!0);updateThumbViewArea()},setHash:function(a){if(a)if(0<=a.indexOf("=")){var b=PDFView.parseQueryString(a);if("nameddest"in b)PDFView.navigateTo(b.nameddest);else if("page"in b)if(this.page=a=b.page|0||1,"zoom"in b){var b=b.zoom.split(","),c=b[0],d=parseFloat(c);d&&(c=d/100);this.pages[a-1].scrollIntoView([null,{name:"XYZ"},b[1]|0,b[2]|
0,c])}else this.page=b.page}else/^\d+$/.test(a)?this.page=a:PDFView.navigateTo(unescape(a))},switchSidebarView:function(a){var b=document.getElementById("sidebarScrollView"),c=document.getElementById("outlineScrollView"),d=document.getElementById("thumbsSwitch"),e=document.getElementById("outlineSwitch");switch(a){case "thumbs":b.removeAttribute("hidden");c.setAttribute("hidden","true");d.setAttribute("data-selected",!0);e.removeAttribute("data-selected");updateThumbViewArea();break;case "outline":b.setAttribute("hidden",
"true"),c.removeAttribute("hidden"),d.removeAttribute("data-selected"),e.setAttribute("data-selected",!0)}},pinSidebar:function(){document.getElementById("sidebar").classList.toggle("pinned")},getVisiblePages:function(){for(var a=this.pages,b=[],c=10,d=window.pageYOffset,e=1;e<=a.length;++e){var g=a[e-1].height+10;if(c+g>d)break;c+=g}for(d=window.pageYOffset+window.innerHeight;e<=a.length&&c<d;++e)g=a[e-1],b.push({id:g.id,y:c,view:g}),c+=g.height*g.scale+10;return b},getVisibleThumbs:function(){for(var a=
this.thumbnails,b=[],c=document.getElementById("sidebarScrollView"),d=5,e=c.scrollTop,g=1;g<=a.length;++g){var f=a[g-1],f=f.height*f.scaleY+5;if(d+f>e)break;d+=f}for(c=e+c.clientHeight;g<=a.length&&d<c;++g)e=a[g-1],b.push({id:e.id,y:d,view:e}),d+=e.height*e.scaleY+5;return b},parseQueryString:function(a){for(var a=a.split("&"),b={},c=0;c<a.length;++c){var d=a[c].split("="),e=1<d.length?d[1]:null;b[unescape(d[0])]=unescape(e)}return b}},PageView=function(a,b,c,d){function e(a,b){function c(a,b){a.href=
PDFView.getDestinationHash(b);a.onclick=function(){b&&PDFView.navigateTo(b);return!1}}function d(a,c){var e=b.convertToViewportRectangle(c.rect),e=PDFJS.Util.normalizeRect(e),f=document.createElement(a);f.style.left=Math.floor(e[0])+"px";f.style.top=Math.floor(e[1])+"px";f.style.width=Math.ceil(e[2]-e[0])+"px";f.style.height=Math.ceil(e[3]-e[1])+"px";return f}function e(a,c){var f=document.createElement("section");f.className="annotComment";var g=d("img",c),a=c.type,i=b.convertToViewportRectangle(c.rect),
i=PDFJS.Util.normalizeRect(i);g.src=kImageDirectory+a.toLowerCase()+".svg";g.alt="["+a+" Annotation]";var l=document.createElement("div");l.setAttribute("hidden",!0);var p=document.createElement("h1"),q=document.createElement("p");l.style.left=Math.floor(i[2])+"px";l.style.top=Math.floor(i[1])+"px";p.textContent=c.title;if(!c.content&&!c.title)l.setAttribute("hidden",!0);else{for(var i=document.createElement("span"),r=c.content.split("\n"),o=0,s=r.length;o<s;++o)i.appendChild(document.createTextNode(r[o])),
o<s-1&&i.appendChild(document.createElement("br"));q.appendChild(i);g.addEventListener("mouseover",function(){l.removeAttribute("hidden")},!1);g.addEventListener("mouseout",function(){l.setAttribute("hidden",!0)},!1)}l.appendChild(p);l.appendChild(q);f.appendChild(g);f.appendChild(l);return f}a.getAnnotations().then(function(a){for(var b=0;b<a.length;b++){var f=a[b];switch(f.type){case "Link":var h=d("a",f);h.href=f.url||"";f.url||c(h,"dest"in f?f.dest:null);g.appendChild(h);break;case "Text":(f=
e(f.name,f))&&g.appendChild(f)}}})}this.id=c;this.pdfPage=b;this.scale=d||1;this.viewport=this.pdfPage.getViewport(this.scale);c=document.createElement("a");c.name=""+this.id;var g=document.createElement("div");g.id="pageContainer"+this.id;g.className="page";a.appendChild(c);a.appendChild(g);this.destroy=function(){this.update();this.pdfPage.destroy()};this.update=function(a){this.scale=a||this.scale;this.viewport=a=this.pdfPage.getViewport(this.scale);g.style.width=a.width+"px";for(g.style.height=
a.height+"px";g.hasChildNodes();)g.removeChild(g.lastChild);g.removeAttribute("data-loaded");delete this.canvas;this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";g.appendChild(this.loadingIconDiv)};Object.defineProperty(this,"width",{get:function(){return this.viewport.width},enumerable:!0});Object.defineProperty(this,"height",{get:function(){return this.viewport.height},enumerable:!0});this.getPagePoint=function(a,b){return this.viewport.convertToPdfPoint(a,
b)};this.scrollIntoView=function(a){if(a){var b=0,c=0,d=0,e=0,k;k=0;switch(a[1].name){case "XYZ":b=a[2];c=a[3];k=a[4];break;case "Fit":case "FitB":k="page-fit";break;case "FitH":case "FitBH":c=a[2];k="page-width";break;case "FitV":case "FitBV":b=a[2];k="page-height";break;case "FitR":b=a[2];c=a[3];d=a[4]-b;e=a[5]-c;a=(window.innerWidth-kScrollbarPadding)/d/kCssUnits;k=(window.innerHeight-kScrollbarPadding)/e/kCssUnits;k=Math.min(a,k);break;default:return}var m=[this.viewport.convertToViewportPoint(b,
c),this.viewport.convertToViewportPoint(b+d,c+e)];k&&k!==PDFView.currentScale?PDFView.parseScale(k,!0):PDFView.currentScale===kUnknownScale&&PDFView.parseScale(kDefaultScale,!0);setTimeout(function(){var a=Math.min(m[0][0],m[1][0]),b=Math.min(m[0][1],m[1][1]),c=Math.abs(m[0][0]-m[1][0]),d=Math.abs(m[0][1]-m[1][1]),e=document.createElement("div");e.style.position="absolute";e.style.left=Math.floor(a)+"px";e.style.top=Math.floor(b)+"px";e.style.width=Math.ceil(c)+"px";e.style.height=Math.ceil(d)+"px";
g.appendChild(e);e.scrollIntoView(!0);g.removeChild(e)},0)}else g.scrollIntoView(!0)};this.drawingRequired=function(){return!g.querySelector("canvas")};this.draw=function(a){function c(d){k.loadingIconDiv&&(g.removeChild(k.loadingIconDiv),delete k.loadingIconDiv);d&&PDFView.error("An error occurred while rendering the page.",d);k.stats=b.stats;k.updateStats();if(k.onAfterDraw)k.onAfterDraw();cache.push(k);a()}if(this.drawingRequired()){var d=document.createElement("canvas");d.id="page"+this.id;d.mozOpaque=
!0;g.appendChild(d);this.canvas=d;var j=null;PDFJS.disableTextLayer||(j=document.createElement("div"),j.className="textLayer",g.appendChild(j));var j=j?new TextLayerBuilder(j):null,l=this.viewport;d.width=l.width;d.height=l.height;l=d.getContext("2d");l.save();l.fillStyle="rgb(255, 255, 255)";l.fillRect(0,0,d.width,d.height);l.restore();var k=this;this.pdfPage.render({canvasContext:l,viewport:this.viewport,textLayer:j}).then(function(){c(null)},function(a){c(a)});e(this.pdfPage,this.viewport);g.setAttribute("data-loaded",
!0)}else this.updateStats(),a()};this.updateStats=function(){PDFJS.pdfBug&&Stats.enabled&&Stats.add(this.id,this.stats)}},ThumbnailView=function(a,b,c){function d(){var a=document.createElement("canvas");a.id="thumbnail"+c;a.mozOpaque=!0;a.width=i;a.height=j;k.setAttribute("data-loaded",!0);k.appendChild(a);m.style.visibility="visible";a=a.getContext("2d");a.save();a.fillStyle="rgb(255, 255, 255)";a.fillRect(0,0,i,j);a.restore();return a}var e=document.createElement("a");e.href=PDFView.getAnchorUrl("#page="+
c);e.onclick=function(){PDFView.page=c;return!1};var g=b.getViewport(1),f=g.width,g=g.height,h=f/g;this.id=c;var i=this.width=1<=h?134:134*h,j=this.height=1>=h?134:134/h,l=this.scaleX=i/f;this.scaleY=j/g;var k=document.createElement("div");k.id="thumbnailContainer"+c;k.className="thumbnail";var m=document.createElement("div");m.id="thumbnailLabel"+c;m.className="thumbnailLabelContainer";f=document.createElement("span");f.innerHTML=c;f.className="thumbnailLabel";m.appendChild(f);m.style.visibility=
"hidden";e.appendChild(k);e.appendChild(m);a.appendChild(e);this.hasImage=!1;this.drawingRequired=function(){return!this.hasImage};this.draw=function(a){if(this.hasImage)a();else{var c=d(),e=b.getViewport(l);b.render({canvasContext:c,viewport:e}).then(function(){a()},function(){a()});this.hasImage=!0}};this.setImage=function(a){if(!this.hasImage&&a){var b=d();b.drawImage(a,0,0,a.width,a.height,0,0,b.canvas.width,b.canvas.height);this.hasImage=!0}}},DocumentOutlineView=function(a){function b(a,b){a.href=
PDFView.getDestinationHash(b.dest);a.onclick=function(){PDFView.navigateTo(b.dest);return!1}}for(a=[{parent:document.getElementById("outlineView"),items:a}];0<a.length;){var c=a.shift(),d,e=c.items.length;for(d=0;d<e;d++){var g=c.items[d],f=document.createElement("div");f.className="outlineItem";var h=document.createElement("a");b(h,g);h.textContent=g.title;f.appendChild(h);0<g.items.length&&(h=document.createElement("div"),h.className="outlineItems",f.appendChild(h),a.push({parent:h,items:g.items}));
c.parent.appendChild(f)}}},CustomStyle=function(){function a(){}var b=["ms","Moz","Webkit","O"],c={};a.getProp=function(a,e){if(1==arguments.length&&"string"==typeof c[a])return c[a];var e=e||document.documentElement,g=e.style,f,h;if("string"==typeof g[a])return c[a]=a;h=a.charAt(0).toUpperCase()+a.slice(1);for(var i=0,j=b.length;i<j;i++)if(f=b[i]+h,"string"==typeof g[f])return c[a]=f;return c[a]="undefined"};a.setProp=function(a,b,c){a=this.getProp(a);"undefined"!=a&&(b.style[a]=c)};return a}(),
TextLayerBuilder=function(a){this.textLayerDiv=a;this.beginLayout=function(){this.textDivs=[];this.textLayerQueue=[]};this.endLayout=function(){function a(){if(0===d.length)clearInterval(g),f=!0;else{var b=d.shift();0<b.dataset.textLength&&(e.appendChild(b),1<b.dataset.textLength&&(CustomStyle.setProp("transform",b,"scale("+b.dataset.canvasWidth/b.offsetWidth+", 1)"),CustomStyle.setProp("transformOrigin",b,"0% 0%")))}}function c(){f?window.removeEventListener("scroll",c,!1):(clearInterval(g),clearTimeout(j),
j=setTimeout(function(){g=setInterval(a,h)},i))}var d=this.textDivs,e=this.textLayerDiv,g=null,f=!1,h=0,i=500,g=setInterval(a,h),j=null;window.addEventListener("scroll",c,!1)};this.appendText=function(a,c,d){var e=document.createElement("div"),d=d*a.geom.vScale;e.dataset.canvasWidth=a.canvasWidth*a.geom.hScale;e.dataset.fontName=c;e.style.fontSize=d+"px";e.style.left=a.geom.x+"px";e.style.top=a.geom.y-d+"px";e.textContent=PDFJS.bidi(a,-1);e.dir=a.direction;e.dataset.textLength=a.length;this.textDivs.push(e)}};
window.addEventListener("load",function(){var a=document.location.hash.substring(1),a=PDFView.parseQueryString(a);"disableWorker"in a&&(PDFJS.disableWorker="true"===a.disableWorker);"disableTextLayer"in a&&(PDFJS.disableTextLayer="true"===a.disableTextLayer);if("pdfBug"in a&&(!PDFJS.isFirefoxExtension||FirefoxCom.request("pdfBugEnabled")))PDFJS.pdfBug=!0,a=a.pdfBug.split(","),PDFBug.enable(a),PDFBug.init();document.getElementById("sidebarScrollView").addEventListener("scroll",updateThumbViewArea,
!0);PDFView.open(file,0)},!0);var sidebarHideListener=function(){PDFView.sidebarWidth=document.body.className.match(/\bnosidebar\b/)?0:kSidebarWidth;PDFView.parseScale(PDFView.currentScaleValue)};document.body.addEventListener("transitionend",sidebarHideListener,!1);document.body.addEventListener("oTransitionEnd",sidebarHideListener,!1);document.body.addEventListener("webkitTransitionEnd",sidebarHideListener,!1);
function preDraw(){var a=PDFView.pages,b=PDFView.getVisiblePages(),c=b[b.length-1];a[c.id]&&a[c.id].drawingRequired()?renderingQueue.enqueueDraw(a[c.id]):a[b[0].id-2]&&renderingQueue.enqueueDraw(a[b[0].id-2])}
function updateViewarea(){for(var a=PDFView.getVisiblePages(),b,c=0;c<a.length;c++){var d=PDFView.pages[a[c].id-1];b|=d.drawingRequired();renderingQueue.enqueueDraw(d)}if(a.length){b||preDraw();updateViewarea.inProgress=!0;a=a[0];PDFView.page=a.id;updateViewarea.inProgress=!1;b=PDFView.currentScale;c=PDFView.currentScaleValue;b=c==b?100*b:c;var c=a.id,d="#page="+c+("&zoom="+b),a=PDFView.pages[c-1].getPagePoint(window.pageXOffset,window.pageYOffset-a.y-52),d=d+(","+Math.round(a[0])+","+Math.round(a[1])),
e=PDFView.store;e.set("exists",!0);e.set("page",c);e.set("zoom",b);e.set("scrollLeft",Math.round(a[0]));e.set("scrollTop",Math.round(a[1]));a=PDFView.getAnchorUrl(d);document.getElementById("viewBookmark").href=a}}window.addEventListener("scroll",function(){updateViewarea()},!0);var thumbnailTimer;
function updateThumbViewArea(){thumbnailTimer&&clearTimeout(thumbnailTimer);thumbnailTimer=setTimeout(function(){for(var a=PDFView.getVisibleThumbs(),b=0;b<a.length;b++)renderingQueue.enqueueDraw(PDFView.thumbnails[a[b].id-1])},50)}window.addEventListener("transitionend",updateThumbViewArea,!0);window.addEventListener("webkitTransitionEnd",updateThumbViewArea,!0);
window.addEventListener("resize",function(){(document.getElementById("pageWidthOption").selected||document.getElementById("pageFitOption").selected||document.getElementById("pageAutoOption").selected)&&PDFView.parseScale(document.getElementById("scaleSelect").value);updateViewarea()});window.addEventListener("hashchange",function(){PDFView.setHash(document.location.hash.substring(1))});
window.addEventListener("change",function(a){if((a=a.target.files)&&0!=a.length){var b=new FileReader;b.onload=function(a){for(var a=a.target.result,b=new ArrayBuffer(a.length),b=new Uint8Array(b),e=0;e<a.length;e++)b[e]=a.charCodeAt(e);PDFJS.getDocument(b).then(function(a){PDFView.load(a)})};b.readAsBinaryString(a[0]);document.getElementById("viewBookmark").setAttribute("hidden","true");document.getElementById("download").setAttribute("hidden","true")}},!0);
function selectScaleOption(a){for(var b=document.getElementById("scaleSelect").options,c=!1,d=0;d<b.length;d++){var e=b[d];e.value!=a?e.selected=!1:c=e.selected=!0}return c}
window.addEventListener("scalechange",function(a){var b=document.getElementById("customScaleOption");b.selected=!1;if((a.resetAutoSettings||!document.getElementById("pageWidthOption").selected&&!document.getElementById("pageFitOption").selected&&!document.getElementById("pageAutoOption").selected)&&!selectScaleOption(""+a.scale))b.textContent=Math.round(1E4*a.scale)/100+"%",b.selected=!0;updateViewarea()},!0);
window.addEventListener("pagechange",function(a){a=a.pageNumber;document.getElementById("pageNumber").value!=a&&(document.getElementById("pageNumber").value=a);document.getElementById("previous").disabled=1>=a;document.getElementById("next").disabled=a>=PDFView.pages.length},!0);
window.addEventListener("keydown",function(a){var b=!1,c=(a.ctrlKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.metaKey?8:0);if(1==c||8==c)switch(a.keyCode){case 61:case 107:case 187:PDFView.zoomIn();b=!0;break;case 109:case 189:PDFView.zoomOut();b=!0;break;case 48:PDFView.parseScale(kDefaultScale,!0),b=!0}if(b)a.preventDefault();else{var d=document.activeElement;if(!(d&&"INPUT"==d.tagName)){for(var e=document.getElementById("controls");d;){if(d===e)return;d=d.parentNode}if(0==c)switch(a.keyCode){case 37:case 75:case 80:PDFView.page--;
b=!0;break;case 39:case 74:case 78:PDFView.page++,b=!0}b&&a.preventDefault()}}});
