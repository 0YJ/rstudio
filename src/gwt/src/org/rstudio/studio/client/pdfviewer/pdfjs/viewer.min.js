function log(a){console&&console.log?console.log(a):print&&print(a)}function warn(a){verbosity>=WARNINGS&&log("Warning: "+a)}function backtrace(){try{throw Error();}catch(a){return a.stack?a.stack.split("\n").slice(2).join("\n"):""}}function error(a){log("Error: "+a);log(backtrace());throw Error(a);}function TODO(a){verbosity>=TODOS&&log("TODO: "+a)}function malformed(a){error("Malformed PDF: "+a)}function assert(a,b){a||error(b)}function assertWellFormed(a,b){a||malformed(b)}
function shadow(a,b,c){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!1});return c}function bytesToString(a){for(var b="",c=a.length,d=0;d<c;++d)b+=String.fromCharCode(a[d]);return b}function stringToBytes(a){for(var b=a.length,c=new Uint8Array(b),d=0;d<b;++d)c[d]=a.charCodeAt(d)&255;return c}
var IDENTITY_MATRIX=[1,0,0,1,0,0],Util=function(){function a(){}a.makeCssRgb=function(a,c,d){return"rgb("+(255*a|0)+","+(255*c|0)+","+(255*d|0)+")"};a.makeCssCmyk=function(a,c,d,e){a=(new DeviceCmykCS).getRgb([a,c,d,e]);return"rgb("+(255*a[0]|0)+","+(255*a[1]|0)+","+(255*a[2]|0)+")"};a.applyTransform=function(a,c){return[a[0]*c[0]+a[1]*c[2]+c[4],a[0]*c[1]+a[1]*c[3]+c[5]]};a.apply3dTransform=function(a,c){return[a[0]*c[0]+a[1]*c[1]+a[2]*c[2],a[3]*c[0]+a[4]*c[1]+a[5]*c[2],a[6]*c[0]+a[7]*c[1]+a[8]*c[2]]};
a.normalizeRect=function(a){var c=a.slice(0);a[0]>a[2]&&(c[0]=a[2],c[2]=a[0]);a[1]>a[3]&&(c[1]=a[3],c[3]=a[1]);return c};a.intersect=function(b,c){function d(a,b){return a-b}var e=[b[0],b[2],c[0],c[2]].sort(d),f=[b[1],b[3],c[1],c[3]].sort(d),g=[],b=a.normalizeRect(b),c=a.normalizeRect(c);if(e[0]===b[0]&&e[1]===c[0]||e[0]===c[0]&&e[1]===b[0])g[0]=e[1],g[2]=e[2];else return!1;if(f[0]===b[1]&&f[1]===c[1]||f[0]===c[1]&&f[1]===b[1])g[1]=f[1],g[3]=f[2];else return!1;return g};a.sign=function(a){return 0>
a?-1:1};return a}(),CustomStyle=function(){function a(){}var b=["ms","Moz","Webkit","O"],c={};a.getProp=function(a,e){if(1==arguments.length&&"string"==typeof c[a])return c[a];var e=e||document.documentElement,f=e.style,g,i;if("string"==typeof f[a])return c[a]=a;i=a.charAt(0).toUpperCase()+a.slice(1);for(var h=0,k=b.length;h<k;h++)if(g=b[h]+i,"string"==typeof f[g])return c[a]=g;return c[a]="undefined"};a.setProp=function(a,b,c){a=this.getProp(a);"undefined"!=a&&(b.style[a]=c)};return a}(),PDFStringTranslateTable=
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];
function stringToPDFString(a){var b,c=a.length,d="";if("\u00fe"===a[0]&&"\u00ff"===a[1])for(b=2;b<c;b+=2)d+=String.fromCharCode(a.charCodeAt(b)<<8|a.charCodeAt(b+1));else for(b=0;b<c;++b)var e=PDFStringTranslateTable[a.charCodeAt(b)],d=d+(e?String.fromCharCode(e):a.charAt(b));return d}function isBool(a){return"boolean"==typeof a}function isInt(a){return"number"==typeof a&&(a|0)==a}function isNum(a){return"number"==typeof a}function isString(a){return"string"==typeof a}
function isNull(a){return null===a}function isName(a){return a instanceof Name}function isCmd(a,b){return a instanceof Cmd&&(!b||a.cmd==b)}function isDict(a,b){return a instanceof Dict&&(!b||a.get("Type").name==b)}function isArray(a){return a instanceof Array}function isStream(a){return"object"==typeof a&&null!=a&&"getChar"in a}function isArrayBuffer(a){return"object"==typeof a&&null!=a&&"byteLength"in a}function isRef(a){return a instanceof Ref}
function isPDFFunction(a){if("object"!=typeof a)return!1;if(!isDict(a))if(isStream(a))a=a.dict;else return!1;return a.has("FunctionType")}
var Promise=function(){function a(a,d){this.name=a;this.isRejected=!1;this.error=null;null!=d?(this.isResolved=!0,this._data=d,this.hasData=!0):(this.isResolved=!1,this._data=b);this.callbacks=[];this.errbacks=[]}var b={};a.all=function(b){var d=new a,e=b.length,f=[];if(0===e)return d.resolve(f),d;for(var g=0;g<e;++g)b[g].then(function(a){return function(b){f[a]=b;e--;0===e&&d.resolve(f)}}(g));return d};a.prototype={hasData:!1,set data(a){if(void 0!==a&&(this._data!==b&&error("Promise "+this.name+
": Cannot set the data of a promise twice"),this._data=a,this.hasData=!0,this.onDataCallback))this.onDataCallback(a)},get data(){this._data===b&&error("Promise "+this.name+": Cannot get data that isn't set");return this._data},onData:function(a){this._data!==b?a(this._data):this.onDataCallback=a},resolve:function(a){this.isResolved&&error("A Promise can be resolved only once "+this.name);this.isRejected&&error("The Promise was already rejected "+this.name);this.isResolved=!0;this.data=a||null;for(var b=
this.callbacks,e=0,f=b.length;e<f;e++)b[e].call(null,a)},reject:function(a){this.isRejected&&error("A Promise can be rejected only once "+this.name);this.isResolved&&error("The Promise was already resolved "+this.name);this.isRejected=!0;this.error=a||null;for(var b=this.errbacks,e=0,f=b.length;e<f;e++)b[e].call(null,a)},then:function(a,b){a||e("Requiring callback"+this.name);if(this.isResolved)a.call(null,this.data);else if(this.isRejected&&errorback){var e=this.error;b.call(null,e)}else this.callbacks.push(a),
b&&this.errbacks.push(b)}};return a}();"use strict";
var kDefaultURL="compressed.tracemonkey-pldi-09.pdf",kDefaultScale="auto",kDefaultScaleDelta=1.1,kUnknownScale=0,kCacheSize=20,kCssUnits=96/72,kScrollbarPadding=40,kMinScale=0.25,kMaxScale=4,kImageDirectory="./images/",kSettingsMemory=20,Cache=function(a){var b=[];this.push=function(c){var d=b.indexOf(c);0<=d&&b.splice(d);b.push(c);b.length>a&&b.shift().update()}},RenderingQueue=function(){function a(){this.items=[]}a.prototype={enqueueDraw:function(a){a.drawingRequired()&&(this.items.push(a),1<this.items.length||
a.draw(this.continueExecution.bind(this)))},continueExecution:function(){var a=this.items.shift();0!=this.items.length&&(a=this.items[0],a.draw(this.continueExecution.bind(this)))}};return a}(),FirefoxCom=function(){return{request:function(a,b){var c=document.createTextNode("");c.setUserData("action",a,null);c.setUserData("data",b,null);document.documentElement.appendChild(c);var d=document.createEvent("Events");d.initEvent("pdf.js.message",!0,!1);c.dispatchEvent(d);d=c.getUserData("response");document.documentElement.removeChild(c);
return d}}}(),Settings=function(){function a(a){var c=null,g;if(d)c=FirefoxCom.request("getDatabase",null)||"{}";else if(b)c=localStorage.getItem("database")||"{}";else return!1;c=JSON.parse(c);"files"in c||(c.files=[]);c.files.length>=kSettingsMemory&&c.files.shift();for(var i=0,h=c.files.length;i<h;i++)if(c.files[i].fingerprint==a){g=i;break}"number"!=typeof g&&(g=c.files.push({fingerprint:a})-1);this.file=c.files[g];this.database=c}var b;try{b="localStorage"in window&&null!==window.localStorage&&
localStorage}catch(c){b=!1}var d=PDFJS.isFirefoxExtension;a.prototype={set:function(a,c){if(!("file"in this))return!1;this.file[a]=c;var g=JSON.stringify(this.database);d?FirefoxCom.request("setDatabase",g):b&&localStorage.setItem("database",g)},get:function(a,b){return!("file"in this)?b:this.file[a]||b}};return a}(),cache=new Cache(kCacheSize),renderingQueue=new RenderingQueue,currentPageNumber=1,PDFView={pages:[],thumbnails:[],currentScale:kUnknownScale,currentScaleValue:null,initialBookmark:document.location.hash.substring(1),
setScale:function(a,b){if(a!=this.currentScale){for(var c=this.pages,d=0;d<c.length;d++)c[d].update(a*kCssUnits);this.currentScale!=a&&this.pages[this.page-1].scrollIntoView();this.currentScale=a;c=document.createEvent("UIEvents");c.initUIEvent("scalechange",!1,!1,window,0);c.scale=a;c.resetAutoSettings=b;window.dispatchEvent(c)}},parseScale:function(a,b){if("custom"!=a){var c=parseFloat(a);this.currentScaleValue=a;if(c)this.setScale(c,!0);else{var d=this.pages[this.page-1],c=(window.innerWidth-kScrollbarPadding)/
d.width/kCssUnits,d=(window.innerHeight-kScrollbarPadding)/d.height/kCssUnits;"page-width"==a&&this.setScale(c,b);"page-height"==a&&this.setScale(d,b);"page-fit"==a&&this.setScale(Math.min(c,d),b);"auto"==a&&this.setScale(Math.min(1,c),b);selectScaleOption(a)}}},zoomIn:function(){this.parseScale(Math.min(kMaxScale,this.currentScale*kDefaultScaleDelta),!0)},zoomOut:function(){this.parseScale(Math.max(kMinScale,this.currentScale/kDefaultScaleDelta),!0)},set page(a){var b=this.pages;document.getElementById("pageNumber");
if(0<a&&a<=b.length)currentPageNumber=a,c=document.createEvent("UIEvents"),c.initUIEvent("pagechange",!1,!1,window,0),c.pageNumber=a,window.dispatchEvent(c),updateViewarea.inProgress||this.loading&&1==a||b[a-1].scrollIntoView();else{var c=document.createEvent("UIEvents");c.initUIEvent("pagechange",!1,!1,window,0);c.pageNumber=this.page;window.dispatchEvent(c)}},get page(){return currentPageNumber},open:function(a,b){var c=this;PDFJS.getPdf({url:a,progress:function(a){a.lengthComputable&&c.progress(a.loaded/
a.total)},error:function(a){document.getElementById("loading").textContent="Error";c.error("An error occurred while loading the PDF.",{message:"Unexpected server response of "+a.target.status+"."})}},function(a){c.loading=!0;c.load(a,b);c.loading=!1})},download:function(){var a=this.url.split("#")[0];PDFJS.isFirefoxExtension?FirefoxCom.request("download",a):(a+="#pdfjs.action=download","_parent",window.open(a,"_parent"))},navigateTo:function(a){"string"===typeof a&&(a=this.destinations[a]);if(a instanceof
Array){var b=a[0];if(b=b instanceof Object?this.pagesRefMap[b.num+" "+b.gen+" R"]:b+1)this.page=b,this.pages[b-1].scrollIntoView(a)}},getDestinationHash:function(a){if("string"===typeof a)return PDFView.getAnchorUrl("#"+escape(a));if(a instanceof Array){var b=a[0];if(b=b instanceof Object?this.pagesRefMap[b.num+" "+b.gen+" R"]:b+1){var b=PDFView.getAnchorUrl("#page="+b),c=a[1];if("object"===typeof c&&"name"in c&&"XYZ"==c.name&&(b+="&zoom="+100*(a[4]||this.currentScale),a[2]||a[3]))b+=","+(a[2]||0)+
","+(a[3]||0);return b}}return""},getAnchorUrl:function(a){return PDFJS.isFirefoxExtension?this.url.split("#")[0]+a:a},error:function(a,b){var c=document.getElementById("errorWrapper");c.removeAttribute("hidden");document.getElementById("errorMessage").textContent=a;document.getElementById("errorClose").onclick=function(){c.setAttribute("hidden","true")};var d=document.getElementById("errorMoreInfo"),e=document.getElementById("errorShowMore"),f=document.getElementById("errorShowLess");e.onclick=function(){d.removeAttribute("hidden");
e.setAttribute("hidden","true");f.removeAttribute("hidden")};f.onclick=function(){d.setAttribute("hidden","true");e.removeAttribute("hidden");f.setAttribute("hidden","true")};e.removeAttribute("hidden");f.setAttribute("hidden","true");d.value="PDF.JS Build: "+PDFJS.build+"\n";b&&(d.value+="Message: "+b.message,b.stack?d.value+="\nStack: "+b.stack:(b.filename&&(d.value+="\nFile: "+b.filename),b.lineNumber&&(d.value+="\nLine: "+b.lineNumber)));d.rows=d.value.split("\n").length-1},progress:function(a){a=
Math.round(100*a);document.getElementById("loading").textContent="Loading... "+a+"%"},load:function(a,b){function c(a,b){a.onAfterDraw=function(){b.setImage(a.canvas);preDraw()}}document.getElementById("errorWrapper").setAttribute("hidden","true");document.getElementById("loading").setAttribute("hidden","true");var d=document.getElementById("sidebarView");for(d.parentNode.scrollTop=0;d.hasChildNodes();)d.removeChild(d.lastChild);"_loadingInterval"in d&&clearInterval(d._loadingInterval);for(var e=
document.getElementById("viewer");e.hasChildNodes();)e.removeChild(e.lastChild);var f;try{f=new PDFJS.PDFDoc(a)}catch(g){this.error("An error occurred while reading the PDF.",g)}var i=f.numPages,h=f.fingerprint,k=null;document.getElementById("numPages").textContent=i;document.getElementById("pageNumber").max=i;PDFView.documentFingerprint=h;var n=PDFView.store=new Settings(h);if(n.get("exists",!1))var h=n.get("page","1"),k=n.get("zoom",PDFView.currentScale),l=n.get("scrollLeft","0"),n=n.get("scrollTop",
"0"),k="page="+h+"&zoom="+k+","+l+","+n;for(var n=this.pages=[],l={},r=this.thumbnails=[],j=1;j<=i;j++){var h=f.getPage(j),o=new PageView(e,h,j,h.width,h.height,h.stats,this.navigateTo.bind(this)),p=new ThumbnailView(d,h,j,h.width/h.height);c(o,p);n.push(o);r.push(p);h=h.ref;l[h.num+" "+h.gen+" R"]=j}this.pagesRefMap=l;this.destinations=f.catalog.destinations;this.currentScale=0;this.currentScaleValue=null;this.initialBookmark?(this.setHash(this.initialBookmark),this.initialBookmark=null):k?this.setHash(k):
b&&(this.parseScale(b,!0),this.page=1);this.page>this.pages.length&&(this.page=this.pages.length);PDFView.currentScale===kUnknownScale&&this.parseScale(kDefaultScale,!0);updateThumbViewArea()},setHash:function(a){if(a)if(0<=a.indexOf("=")){var b=PDFView.parseQueryString(a);if("nameddest"in b)PDFView.navigateTo(b.nameddest);else if("page"in b)if(this.page=a=b.page|0||1,"zoom"in b){var b=b.zoom.split(","),c=b[0],d=parseFloat(c);d&&(c=d/100);this.pages[a-1].scrollIntoView([null,{name:"XYZ"},b[1]|0,b[2]|
0,c])}else this.page=b.page}else/^\d+$/.test(a)?this.page=a:PDFView.navigateTo(unescape(a))},switchSidebarView:function(a){var b=document.getElementById("sidebarScrollView"),c=document.getElementById("outlineScrollView"),d=document.getElementById("thumbsSwitch"),e=document.getElementById("outlineSwitch");switch(a){case "thumbs":b.removeAttribute("hidden");c.setAttribute("hidden","true");d.setAttribute("data-selected",!0);e.removeAttribute("data-selected");updateThumbViewArea();break;case "outline":b.setAttribute("hidden",
"true"),c.removeAttribute("hidden"),d.removeAttribute("data-selected"),e.setAttribute("data-selected",!0)}},pinSidebar:function(){document.getElementById("sidebar").classList.toggle("pinned")},getVisiblePages:function(){for(var a=this.pages,b=[],c=10,d=window.pageYOffset,e=1;e<=a.length;++e){var f=a[e-1],f=f.height*f.scale+10;if(c+f>d)break;c+=f}for(d=window.pageYOffset+window.innerHeight;e<=a.length&&c<d;++e)f=a[e-1],b.push({id:f.id,y:c,view:f}),c+=f.height*f.scale+10;return b},getVisibleThumbs:function(){for(var a=
this.thumbnails,b=[],c=document.getElementById("sidebarScrollView"),d=5,e=c.scrollTop,f=1;f<=a.length;++f){var g=a[f-1],g=g.height*g.scaleY+5;if(d+g>e)break;d+=g}for(c=e+c.clientHeight;f<=a.length&&d<c;++f)e=a[f-1],b.push({id:e.id,y:d,view:e}),d+=e.height*e.scaleY+5;return b},parseQueryString:function(a){for(var a=a.split("&"),b={},c=0;c<a.length;++c){var d=a[c].split("="),e=1<d.length?d[1]:null;b[unescape(d[0])]=unescape(e)}return b}},PageView=function(a,b,c,d,e,f){function g(a,b){function c(a,b){a.href=
PDFView.getDestinationHash(b);a.onclick=function(){b&&PDFView.navigateTo(b);return!1}}function d(a,c){var e=document.createElement(a);e.style.left=Math.floor(c.x-i.x)*b+"px";e.style.top=Math.floor(c.y-i.y)*b+"px";e.style.width=Math.ceil(c.width*b)+"px";e.style.height=Math.ceil(c.height*b)+"px";return e}function e(a,c){var f=document.createElement("section");f.className="annotComment";var h=d("img",c);h.src=kImageDirectory+a.toLowerCase()+".svg";var g=document.createElement("div");g.setAttribute("hidden",
!0);var k=document.createElement("h1"),l=document.createElement("p");g.style.left=Math.floor(c.x-i.x+c.width)*b+"px";g.style.top=Math.floor(c.y-i.y)*b+"px";k.textContent=c.title;if(c.content){for(var j=document.createElement("span"),o=c.content.split("\n"),m=0,p=o.length;m<p;++m)j.appendChild(document.createTextNode(o[m])),m<p-1&&j.appendChild(document.createElement("br"));l.appendChild(j);h.addEventListener("mouseover",function(){this.nextSibling.removeAttribute("hidden")},!1);h.addEventListener("mouseout",
function(){this.nextSibling.setAttribute("hidden",!0)},!1)}else g.setAttribute("hidden",!0);g.appendChild(k);g.appendChild(l);f.appendChild(h);f.appendChild(g);return f}for(var f=a.getAnnotations(),g=0;g<f.length;g++){var m=f[g];switch(m.type){case "Link":var q=d("a",m);q.href=m.url||"";m.url||c(q,"dest"in m?m.dest:null);h.appendChild(q);break;case "Text":(m=e(m.name,m))&&h.appendChild(m)}}}this.id=c;this.content=b;var i=this.content.view;this.x=i.x;this.y=i.y;this.width=i.width;this.height=i.height;
b=document.createElement("a");b.name=""+this.id;var h=document.createElement("div");h.id="pageContainer"+this.id;h.className="page";a.appendChild(b);a.appendChild(h);this.update=function(a){this.scale=a||this.scale;h.style.width=this.width*this.scale+"px";for(h.style.height=this.height*this.scale+"px";h.hasChildNodes();)h.removeChild(h.lastChild);h.removeAttribute("data-loaded");delete this.canvas;this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";h.appendChild(this.loadingIconDiv)};
this.getPagePoint=function(a,b){var c=PDFView.currentScale;return this.content.rotatePoint(a/c,b/c)};this.scrollIntoView=function(a){if(a){var b=0,c=0,d=0,e=0,f;f=0;switch(a[1].name){case "XYZ":b=a[2];c=a[3];f=a[4];break;case "Fit":case "FitB":f="page-fit";break;case "FitH":case "FitBH":c=a[2];f="page-width";break;case "FitV":case "FitBV":b=a[2];f="page-height";break;case "FitR":b=a[2];c=a[3];d=a[4]-b;e=a[5]-c;a=(window.innerWidth-kScrollbarPadding)/d/kCssUnits;f=(window.innerHeight-kScrollbarPadding)/
e/kCssUnits;f=Math.min(a,f);break;default:return}var g=[this.content.rotatePoint(b,c),this.content.rotatePoint(b+d,c+e)];f&&f!==PDFView.currentScale?PDFView.parseScale(f,!0):PDFView.currentScale===kUnknownScale&&PDFView.parseScale(kDefaultScale,!0);setTimeout(function(){var a=PDFView.currentScale,b=Math.min(g[0].x,g[1].x),c=Math.min(g[0].y,g[1].y),d=Math.abs(g[0].x-g[1].x),e=Math.abs(g[0].y-g[1].y),f=document.createElement("div");f.style.position="absolute";f.style.left=Math.floor(b*a)+"px";f.style.top=
Math.floor(c*a)+"px";f.style.width=Math.ceil(d*a)+"px";f.style.height=Math.ceil(e*a)+"px";h.appendChild(f);f.scrollIntoView(!0);h.removeChild(f)},0)}else h.scrollIntoView(!0)};this.drawingRequired=function(){return!h.querySelector("canvas")};this.draw=function(a){if(this.drawingRequired()){var b=document.createElement("canvas");b.id="page"+this.id;b.mozOpaque=!0;h.appendChild(b);this.canvas=b;var c=null;PDFJS.disableTextLayer||(c=document.createElement("div"),c.className="textLayer",h.appendChild(c));
var c=c?new TextLayerBuilder(c):null,i=this.scale;b.width=d*i;b.height=e*i;var j=b.getContext("2d");j.save();j.fillStyle="rgb(255, 255, 255)";j.fillRect(0,0,b.width,b.height);j.restore();j.translate(-this.x*i,-this.y*i);var o=this;f.begin=Date.now();this.content.startRendering(j,function(b){o.loadingIconDiv&&(h.removeChild(o.loadingIconDiv),delete o.loadingIconDiv);b&&PDFView.error("An error occurred while rendering the page.",b);o.updateStats();if(o.onAfterDraw)o.onAfterDraw();cache.push(o);a()},
c);g(this.content,this.scale);h.setAttribute("data-loaded",!0)}else this.updateStats(),a()};this.updateStats=function(){var a=f.compile,b=f.fonts,a="Time to compile/fonts/render: "+(a-f.begin)+"/"+(b-a)+"/"+(f.render-b)+" ms";document.getElementById("info").textContent=a}},ThumbnailView=function(a,b,c,d){function e(){var a=document.createElement("canvas");a.id="thumbnail"+c;a.mozOpaque=!0;a.width=i;a.height=h;l.setAttribute("data-loaded",!0);l.appendChild(a);var d=a.getContext("2d");d.save();d.fillStyle=
"rgb(255, 255, 255)";d.fillRect(0,0,a.width,a.height);d.restore();a=b.view;d.translate(-a.x*k,-a.y*n);l.style.width=a.width*k+"px";l.style.height=a.height*n+"px";l.style.lineHeight=a.height*n+"px";return d}var f=document.createElement("a");f.href=PDFView.getAnchorUrl("#page="+c);f.onclick=function(){PDFView.page=c;return!1};var g=b.view;this.width=g.width;this.height=g.height;this.id=c;var i=1<=d?134:134*d,h=1>=d?134:134/d,k=this.scaleX=i/this.width,n=this.scaleY=h/this.height,l=document.createElement("div");
l.id="thumbnailContainer"+c;l.className="thumbnail";d=document.createElement("div");d.id="thumbnailLabel"+c;d.className="thumbnailLabelContainer";g=document.createElement("span");g.innerHTML=c;g.className="thumbnailLabel";d.appendChild(g);f.appendChild(l);f.appendChild(d);a.appendChild(f);this.hasImage=!1;this.drawingRequired=function(){return!this.hasImage};this.draw=function(a){if(this.hasImage)a();else{var c=e();b.startRendering(c,function(){a()});this.hasImage=!0}};this.setImage=function(a){if(!this.hasImage&&
a){var b=e();b.drawImage(a,0,0,a.width,a.height,0,0,b.canvas.width,b.canvas.height);this.hasImage=!0}}},DocumentOutlineView=function(a){function b(a,b){a.href=PDFView.getDestinationHash(b.dest);a.onclick=function(){PDFView.navigateTo(b.dest);return!1}}for(a=[{parent:document.getElementById("outlineView"),items:a}];0<a.length;){var c=a.shift(),d,e=c.items.length;for(d=0;d<e;d++){var f=c.items[d],g=document.createElement("div");g.className="outlineItem";var i=document.createElement("a");b(i,f);i.textContent=
f.title;g.appendChild(i);0<f.items.length&&(i=document.createElement("div"),i.className="outlineItems",g.appendChild(i),a.push({parent:i,items:f.items}));c.parent.appendChild(g)}}},TextLayerBuilder=function(a){this.textLayerDiv=a;this.beginLayout=function(){this.textDivs=[];this.textLayerQueue=[]};this.endLayout=function(){function a(){if(0===d.length)clearInterval(f),g=!0;else{var b=d.shift();0<b.dataset.textLength&&(e.appendChild(b),1<b.dataset.textLength&&(CustomStyle.setProp("transform",b,"scale("+
b.dataset.canvasWidth/b.offsetWidth+", 1)"),CustomStyle.setProp("transformOrigin",b,"0% 0%")))}}function c(){g?window.removeEventListener("scroll",c,!1):(clearInterval(f),clearTimeout(k),k=setTimeout(function(){f=setInterval(a,i)},h))}var d=this.textDivs,e=this.textLayerDiv,f=null,g=!1,i=0,h=500,f=setInterval(a,i),k=null;window.addEventListener("scroll",c,!1)};this.appendText=function(a,c,d){var e=document.createElement("div"),d=d*a.geom.vScale;e.dataset.canvasWidth=a.canvasWidth*a.geom.hScale;e.dataset.fontName=
c;e.style.fontSize=d+"px";e.style.left=a.geom.x+"px";e.style.top=a.geom.y-d+"px";e.textContent=PDFJS.bidi(a,-1);e.dir=a.direction;e.dataset.textLength=a.length;this.textDivs.push(e)}};
window.addEventListener("load",function(){var a=document.location.hash.substring(1),a=PDFView.parseQueryString(a);"disableWorker"in a&&(PDFJS.disableWorker="true"===a.disableWorker);"disableTextLayer"in a&&(PDFJS.disableTextLayer="true"===a.disableTextLayer);if("pdfBug"in a){PDFJS.pdfBug=!0;var b=a.pdfBug,a=!1,c=[];"all"===b?a=!0:c=b.split(",");for(var b=PDFBug.tools,d=0;d<b.length;++d){var e=b[d];if(a||-1!==c.indexOf(e.id))e.enabled=!0}PDFBug.init()}document.getElementById("sidebarScrollView").addEventListener("scroll",
updateThumbViewArea,!0)},!0);window.addEventListener("unload",function(){window.scrollTo(0,0)},!0);function preDraw(){var a=PDFView.pages,b=PDFView.getVisiblePages(),c=b[b.length-1];a[c.id]&&a[c.id].drawingRequired()?renderingQueue.enqueueDraw(a[c.id]):a[b[0].id-2]&&renderingQueue.enqueueDraw(a[b[0].id-2])}
function updateViewarea(){for(var a=PDFView.getVisiblePages(),b,c=0;c<a.length;c++){var d=PDFView.pages[a[c].id-1];b|=d.drawingRequired();renderingQueue.enqueueDraw(d)}if(a.length){b||preDraw();updateViewarea.inProgress=!0;a=a[0];PDFView.page=a.id;updateViewarea.inProgress=!1;b=PDFView.currentScale;c=PDFView.currentScaleValue;b=c==b?100*b:c;var c=a.id,d="#page="+c+("&zoom="+b),a=PDFView.pages[c-1].getPagePoint(window.pageXOffset,window.pageYOffset-a.y-52),d=d+(","+Math.round(a.x)+","+Math.round(a.y)),
e=PDFView.store;e.set("exists",!0);e.set("page",c);e.set("zoom",b);e.set("scrollLeft",Math.round(a.x));e.set("scrollTop",Math.round(a.y));a=PDFView.getAnchorUrl(d);document.getElementById("viewBookmark").href=a}}window.addEventListener("scroll",function(){updateViewarea()},!0);var thumbnailTimer;
function updateThumbViewArea(){thumbnailTimer&&clearTimeout(thumbnailTimer);thumbnailTimer=setTimeout(function(){for(var a=PDFView.getVisibleThumbs(),b=0;b<a.length;b++)renderingQueue.enqueueDraw(PDFView.thumbnails[a[b].id-1])},50)}window.addEventListener("transitionend",updateThumbViewArea,!0);window.addEventListener("webkitTransitionEnd",updateThumbViewArea,!0);
window.addEventListener("resize",function(){(document.getElementById("pageWidthOption").selected||document.getElementById("pageFitOption").selected||document.getElementById("pageAutoOption").selected)&&PDFView.parseScale(document.getElementById("scaleSelect").value);updateViewarea()});window.addEventListener("hashchange",function(){PDFView.setHash(document.location.hash.substring(1))});
window.addEventListener("change",function(a){if((a=a.target.files)&&0!=a.length){var b=new FileReader;b.onload=function(a){for(var a=a.target.result,b=new ArrayBuffer(a.length),b=new Uint8Array(b),e=0;e<a.length;e++)b[e]=a.charCodeAt(e);PDFView.load(b)};b.readAsBinaryString(a[0]);document.getElementById("viewBookmark").setAttribute("hidden","true");document.getElementById("download").setAttribute("hidden","true")}},!0);
function selectScaleOption(a){for(var b=document.getElementById("scaleSelect").options,c=!1,d=0;d<b.length;d++){var e=b[d];e.value!=a?e.selected=!1:c=e.selected=!0}return c}
window.addEventListener("scalechange",function(a){var b=document.getElementById("customScaleOption");b.selected=!1;if((a.resetAutoSettings||!document.getElementById("pageWidthOption").selected&&!document.getElementById("pageFitOption").selected&&!document.getElementById("pageAutoOption").selected)&&!selectScaleOption(""+a.scale))b.textContent=Math.round(1E4*a.scale)/100+"%",b.selected=!0;updateViewarea()},!0);
window.addEventListener("pagechange",function(a){a=a.pageNumber;document.getElementById("pageNumber").value!=a&&(document.getElementById("pageNumber").value=a);document.getElementById("previous").disabled=1>=a;document.getElementById("next").disabled=a>=PDFView.pages.length},!0);
window.addEventListener("keydown",function(a){if(!a.ctrlKey&&!a.altKey&&!a.shiftKey&&!a.metaKey){var b=document.activeElement;if(!(b&&"INPUT"==b.tagName)){for(var c=document.getElementById("controls");b;){if(b===c)return;b=b.parentNode}b=!1;switch(a.keyCode){case 61:case 107:case 187:PDFView.zoomIn();b=!0;break;case 109:case 189:PDFView.zoomOut();b=!0;break;case 48:PDFView.parseScale(kDefaultScale,!0);b=!0;break;case 37:case 75:case 80:PDFView.page--;b=!0;break;case 39:case 74:case 78:PDFView.page++,
b=!0}b&&a.preventDefault()}}});
